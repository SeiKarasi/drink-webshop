<div class="div-card">
    <mat-card fxLayout fxLayoutGap="20px">
        <!--grow shrink basis -->
        <span fxFlex="1 1 50%">
            <mat-card-header>
                <div class="mat-card-title">
                    <mat-card-title>{{this.actProduct?.name}}</mat-card-title>
                </div>
            </mat-card-header>
            <mat-card-content fxLayout>
                <img src="{{this.loadedImage}}" alt="Product">
                <div>
                    <p class="long-text">Leírás: {{this.actProduct?.short_description}}</p>
                    <p>Alkohol tartalom: {{this.actProduct?.alcohol}}</p>
                    <p>Ár: {{this.actProduct?.price}} Ft</p>
                </div>
            </mat-card-content>
        </span>
        <span fxFlex="1 1 50%">
            <mat-card-actions id="addComment">
                <fieldset [disabled]="!this.user">
                    <form [formGroup]="commentsForm" (ngSubmit)="addComment()">
                        <div>
                            <mat-form-field id="addCommentUsername">
                                <mat-label for="username">Felhasználónév:</mat-label>
                                <input matInput type="text" formControlName="username" readonly />
                            </mat-form-field>
                        </div>
                        <div>
                            <mat-form-field>
                                <mat-label for="comment">Komment: </mat-label>
                                <textarea matInput id="comment" rows="10" cols="70"
                                    formControlName="comment"></textarea>
                            </mat-form-field>
                        </div>
                        <div>
                            <button mat-raised-button color="accent" type="submit"
                                [disabled]="!this.user">Hozzáadás</button>
                        </div>
                    </form>
                </fieldset>
                <div *ngIf="!this.user" id="loginButton">
                    <button mat-raised-button color="accent" routerLink="/login">Jelentkezz be, hogy hozzászólást
                        írj</button>
                </div>
            </mat-card-actions>
        </span>
    </mat-card>
    <div>
        <h2 *ngIf="comments.length" id="commenttitle">Hozzászólások:</h2>
        <div *ngIf="comments.length">
            <table>
                <tr>
                    <th id="commentuser">Felhasználók:</th>
                    <th></th>
                    <th></th>
                </tr>
                <tr class="commentdata" *ngFor="let comment of comments">
                    <td class="commentusername"><span>{{comment.username}}</span> ({{comment.date | dateFormat }})</td>
                    <td class="commentdescription">
                        <span>{{comment.comment}}</span>
                        <span class="commentdeletebutton">
                            <button mat-raised-button color="accent" *ngIf="this.user && this.user.username == comment.username"
                                (click)="deleteComment(comment.id, comment.username)">Törlés
                                <mat-icon>delete</mat-icon>
                            </button>
                        </span>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>